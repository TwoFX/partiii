Note that demanding that $(f, f^\#)$ is a morphism of locally ringed spaces rather
than merely ringed spaces was crucial to make the proof work.
