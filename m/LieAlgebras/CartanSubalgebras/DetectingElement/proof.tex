For (i), define $h^* \in H^*$ via $h^*(x)\coloneqq \scp{h, x}_{\ad}$.
There is a linear map $h\mapsto h^*$. This map is injective by
non-degeneracy of the restriction, hence an isomorphism by finite-dimensionality.
We define  $h_\alpha$ to be the preimage of $\alpha$. Property (a) is then
satisfied by contruction, and (b) is satisfied by linearity of $h\mapsto h^*$ and
bececause the $H^*$ are spanning by 4.13(f). By 4.13e we find
$e_{\pm\alpha} \in L_{\pm\alpha}$ such that $\scp{e_\alpha, e_{-\alpha}}\neq 0$.
We can scale them in a sway such that $\scp{e_\alpha, e_{-\alpha}} = 1$.
For $x \in H$ we have
\[ \scp{[e_\alpha, e_{-\alpha}], x}_{\ad} = \scp{e_\alpha, [e_{-\alpha}, x]}_{\ad}
= \alpha(x)\scp{e_\alpha, e_{-\alpha}}_{\ad} = \alpha(x) = \scp{h_\alpha, x}_{\ad}, \]
using that the Killing form is invariant and the fact that $e_{-\alpha}$ is an
eigenvector for $\ad(x)$ with eigenvalue $-\alpha(x)$.

Again by nondegeneracy, we have $h_\alpha = [e_\alpha, e_{-\alpha}]$ as required.

For (ii), each weight space which is not $H$ has dimension $1$ by 4.16(a). Hence,
the number of roots is $2s = n - r$ (since roots come in pairs  $\alpha$ and $-\alpha$).
Since the $h_\alpha$ span $S$, we find $r\leq s$.
