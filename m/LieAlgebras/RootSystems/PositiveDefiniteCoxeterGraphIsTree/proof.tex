Let $e$ denote the number of pairs of vertices with a least one edge between them.
Let $v\coloneqq\sum_{i=1}^r v_i$ (as an element of the $\mathbb{R}$-span). Then
\[ 0 < q(v, v) = 2r + 2\sum_{i < j} q_{ij}, \]
but for $i < j$ we have $q_{ij}\leq 0$, and so
\[ r > -\sum_{i < j} q_{ij} = \sum \sqrt{t_{ij}} \geq e. \]
Hence, $e\leq r - 1$, so by connectedness, we have  $e = r-1$.

